# 노션 자동화 설정 가이드

## 1단계: 노션 통합 생성 (5분)

### 1.1 노션 통합 페이지 접속

1. 웹 브라우저에서 https://www.notion.so/my-integrations 접속
2. 로그인 (노션 계정)

### 1.2 새 통합 만들기

1. **"+ 새 통합 만들기"** 버튼 클릭
2. 다음 정보 입력:
   - **이름**: `프로젝트 문서화 봇` (또는 원하는 이름)
   - **로고**: (선택사항)
   - **관련 워크스페이스**: 본인 워크스페이스 선택

3. **"제출"** 클릭

### 1.3 API 키 복사

1. 생성된 통합 페이지에서 **"Internal Integration Token"** 찾기
2. **"표시"** 클릭
3. `secret_...` 형식의 키 전체 복사
4. 안전한 곳에 임시 저장

## 2단계: 노션 데이터베이스 준비

### 2.1 데이터베이스 생성 (또는 기존 사용)

#### 새로 만들기:
1. 노션에서 새 페이지 생성
2. `/database` 입력 → "데이터베이스 - 전체 페이지" 선택
3. 이름: `프로젝트 문서` (또는 원하는 이름)

#### 기존 사용:
- 이미 사용 중인 데이터베이스가 있다면 그대로 사용 가능

### 2.2 데이터베이스 속성 설정

다음 속성들을 추가하세요 (없으면 생성):

| 속성명 | 타입 | 설명 |
|--------|------|------|
| 제목 | Title | 프로젝트명 (자동 생성됨) |
| 날짜 | Date | 작성일 |
| 카테고리 | Select | 백엔드/프론트엔드/인프라 등 |
| 상태 | Select | 진행중/완료/보류 |
| 태그 | Multi-select | 기술 스택 (FastAPI, Python 등) |

**카테고리 옵션 예시:**
- 백엔드
- 프론트엔드
- 인프라
- 학습
- 기타

**상태 옵션 예시:**
- 진행중
- 완료
- 보류

### 2.3 데이터베이스 ID 확인

1. 데이터베이스 페이지 열기
2. 브라우저 주소창 URL 확인:
   ```
   https://www.notion.so/workspace/abc123def456?v=xyz789
                              ^^^^^^^^^^^^^^^^
                              이 부분이 데이터베이스 ID
   ```
3. `abc123def456` 부분 복사 (하이픈 포함)
4. 안전한 곳에 임시 저장

## 3단계: 통합 권한 부여

### 3.1 데이터베이스에 통합 연결

1. 데이터베이스 페이지에서 우측 상단 **"..."** (점 3개) 클릭
2. **"연결"** 또는 **"Add connections"** 선택
3. **"프로젝트 문서화 봇"** (1단계에서 만든 통합 이름) 찾아서 클릭
4. 확인 메시지에서 **"허용"** 클릭

## 4단계: 프로젝트 설정

### 4.1 환경 변수 파일 생성

1. `d:\son\notion-automation` 폴더 열기
2. `.env.example` 파일을 복사하여 `.env` 파일 생성
3. `.env` 파일을 텍스트 에디터로 열기

### 4.2 환경 변수 입력

```env
# 노션 API 키 (1.3단계에서 복사한 값)
NOTION_API_KEY=secret_abc123def456xyz789...

# 노션 데이터베이스 ID (2.3단계에서 복사한 값)
NOTION_DATABASE_ID=abc123def456
```

**주의사항:**
- `=` 앞뒤에 공백 없이 입력
- 따옴표 없이 입력
- API 키는 `secret_`로 시작
- 데이터베이스 ID는 하이픈 없는 32자 문자열

### 4.3 의존성 설치

터미널에서:
```bash
cd d:\son\notion-automation
pip install -r requirements.txt
```

## 5단계: 테스트

### 5.1 간단한 테스트

```bash
python add_to_notion.py "테스트 페이지" "이것은 테스트입니다"
```

### 5.2 성공 확인

다음 메시지가 나타나면 성공:
```
✅ 노션 페이지 생성 완료!
📍 URL: https://www.notion.so/...
```

### 5.3 노션에서 확인

1. 노션 데이터베이스 페이지 새로고침
2. "테스트 페이지" 항목 확인

## 문제 해결

### 오류: "NOTION_API_KEY가 설정되지 않았습니다"
- `.env` 파일이 `notion-automation` 폴더에 있는지 확인
- 파일 이름이 정확히 `.env`인지 확인 (`.env.txt` 아님)

### 오류: "Could not find database"
- 데이터베이스 ID 재확인
- 3.1단계에서 통합 연결 여부 확인

### 오류: "API token is invalid"
- API 키 재확인 (복사 시 공백 포함 여부)
- 노션 통합 페이지에서 새 키 생성 시도

## 다음 단계

설정이 완료되면:
1. README.md의 "사용법" 섹션 참고
2. 실제 프로젝트 문서 작성 시작
3. 필요시 스크립트 커스터마이징

## 지원

문제가 계속되면:
1. 노션 API 문서: https://developers.notion.com/
2. GitHub Issues 제출
